@model CEGA.Models.ViewModels.ReporteriaPageVM
@using CEGA.Models.ViewModels

@{
    ViewData["Title"] = "Reportería";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@await Html.PartialAsync("_ModuleHeader", (
"Módulo de Reportería",
    "Consulta <span class='fw-semibold'>incapacidades</span> y <span class='fw-semibold'>accidentes</span> por empleado."
))

@await Html.PartialAsync("_Alerts")

<div class="card card-lg">
    <div class="card-header p-0">
        <ul class="nav nav-tabs card-header-tabs nav-fill" id="reportTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="incap-tab" data-bs-toggle="tab" data-bs-target="#incap"
                        type="button" role="tab" aria-controls="incap" aria-selected="true">
                    Incapacidades
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="acc-tab" data-bs-toggle="tab" data-bs-target="#acc"
                        type="button" role="tab" aria-controls="acc" aria-selected="false">
                    Accidentes
                </button>
            </li>
        </ul>
    </div>

    <div class="card-body">
        <div class="tab-content mt-2">
            <!-- Incapacidades -->
            <div class="tab-pane fade show active" id="incap" role="tabpanel" aria-labelledby="incap-tab">
                @await Html.PartialAsync(
                                "Partials/_IncapacidadesPorEmpleadoPartial",
                                Model?.Incapacidades ?? new IncapacidadesPorEmpleadoVM()
                                )
            </div>

            <!-- Accidentes -->
            <div class="tab-pane fade" id="acc" role="tabpanel" aria-labelledby="acc-tab">
                @await Html.PartialAsync(
                                "Partials/_AccidentesPorEmpleadoPartial",
                                Model?.Accidentes ?? new AccidentesPorEmpleadoVM()
                                )
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
